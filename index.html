<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>AAC Symbiont PAGER</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Wysoki kontrast i fix wysokości */
        body {
            height: 100vh;
            height: 100dvh;
            background-color: #000000; /* Głęboka czerń */
            color: #FFFF00; /* Czysta żółć */
            touch-action: manipulation; 
            user-select: none; 
            -webkit-user-select: none; 
            overscroll-behavior: none;
        }
        .btn-press:active { 
            transform: scale(0.95); 
            background-color: #FACC15; /* Ciemniejsza żółć przy kliku */
            color: #000;
        }
        /* Ramki dla słabowidzących - grube i wyraźne */
        .high-contrast-border {
            border: 4px solid #FFFF00;
        }
    </style>
</head>
<body class="w-screen flex flex-col p-2 gap-2 overflow-hidden">

    <div id="display" class="bg-gray-900 text-white text-5xl md:text-7xl font-black rounded flex items-center justify-center p-2 h-[15vh] high-contrast-border text-center break-words uppercase">
        ...
    </div>

    <div id="grid-container" class="grid grid-cols-2 gap-2 flex-grow min-h-0">
        </div>

    <div class="flex gap-2 h-[18vh] min-h-[100px] mt-1">
        <button onclick="prevPage()" class="w-1/4 bg-gray-800 text-white text-4xl font-black rounded high-contrast-border btn-press">&lt;&lt;</button>
        
        <div class="flex flex-col w-1/4 gap-1">
             <button onclick="addSpace()" class="flex-grow bg-gray-700 text-yellow-300 text-xl font-bold rounded border-2 border-yellow-300 btn-press">_</button>
             <button onclick="backspace()" class="flex-grow bg-red-900 text-white text-xl font-bold rounded border-2 border-red-500 btn-press">DEL</button>
        </div>
        
        <button onclick="nextPage()" class="flex-grow bg-yellow-400 text-black text-5xl font-black rounded border-4 border-white btn-press">DALEJ &gt;&gt;</button>
    </div>

    <div class="flex justify-between text-gray-400 text-sm h-6 px-2">
        <span id="page-indicator">Strona 1/5</span>
        <button onclick="speak()" class="text-green-500 font-bold text-xl uppercase border border-green-500 px-4 rounded">MÓW (PLAY)</button>
    </div>

<script>
    // --- DANE ---
    // Alfabet podzielony na łatwe do ogarnięcia zestawy
    // Możesz tu zmienić kolejność na np. najczęstsze litery: A, O, I, E, Z, N...
    const fullAlphabet = "AĄBCĆDEĘFGHIJKLŁMNŃOÓPQRSŚTUVWXYZŻŹ";
    const itemsPerPage = 6; // ILE KAFELKÓW NA EKRANIE (Zmień na 4 jeśli 6 to za dużo)
    
    let currentPage = 0;
    let currentText = "";
    
    const display = document.getElementById('display');
    const gridContainer = document.querySelector('#grid-container');
    const pageIndicator = document.getElementById('page-indicator');

    // --- RENDEROWANIE STRONY ---
    function renderPage() {
        gridContainer.innerHTML = ""; // Wyczyść poprzednie
        
        const start = currentPage * itemsPerPage;
        const end = start + itemsPerPage;
        const lettersToShow = fullAlphabet.slice(start, end).split('');

        // Jeśli to ostatnia strona i brakuje liter, dodaj puste lub specjalne
        
        lettersToShow.forEach(char => {
            const btn = document.createElement('button');
            btn.innerText = char;
            // OGROMNE PRZYCISKI: Żółte litery na ciemnym tle (lub odwrotnie)
            // Tutaj: Czarne tło, żółta ramka i litera (klasyczny high contrast)
            btn.className = "bg-black text-yellow-300 text-7xl md:text-9xl font-black rounded high-contrast-border btn-press w-full h-full flex items-center justify-center shadow-lg";
            btn.onclick = () => addChar(char);
            gridContainer.appendChild(btn);
        });

        // Aktualizacja licznika stron
        const totalPages = Math.ceil(fullAlphabet.length / itemsPerPage);
        pageIndicator.innerText = `STRONA ${currentPage + 1} / ${totalPages}`;
    }

    // --- NAWIGACJA ---
    function nextPage() {
        const totalPages = Math.ceil(fullAlphabet.length / itemsPerPage);
        if (currentPage < totalPages - 1) {
            currentPage++;
            renderPage();
        } else {
            // Pętla? Wróć na początek?
            currentPage = 0; 
            renderPage();
        }
    }

    function prevPage() {
        if (currentPage > 0) {
            currentPage--;
            renderPage();
        }
    }

    // --- LOGIKA PISANIA ---
    function updateDisplay() {
        display.innerText = currentText === "" ? "..." : currentText;
    }

    function addChar(char) {
        currentText += char;
        updateDisplay();
    }

    function addSpace() {
        currentText += " ";
        updateDisplay();
    }

    function backspace() {
        currentText = currentText.slice(0, -1);
        updateDisplay();
    }

    function speak() {
        if (!currentText) return;
        const utterance = new SpeechSynthesisUtterance(currentText);
        utterance.lang = 'pl-PL';
        utterance.rate = 0.9;
        window.speechSynthesis.speak(utterance);
    }

    // Start
    renderPage();

    // Blokada zoomu
    document.addEventListener('dblclick', (e) => e.preventDefault(), { passive: false });
</script>
</body>
</html>
